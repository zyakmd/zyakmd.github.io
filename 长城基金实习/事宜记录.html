<!-- build time:Mon Aug 26 2024 10:26:28 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="alternate" type="application/rss+xml" title="世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它" href="https://zyakmd.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它" href="https://zyakmd.github.io/atom.xml"><link rel="alternate" type="application/json" title="世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它" href="https://zyakmd.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://zyakmd.github.io/%E9%95%BF%E5%9F%8E%E5%9F%BA%E9%87%91%E5%AE%9E%E4%B9%A0/%E4%BA%8B%E5%AE%9C%E8%AE%B0%E5%BD%95"><title>| ZY Blog = 世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"></h1></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ZY Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://t.mwm.moe/fj?293629"></li><li class="item" data-background-image="https://t.mwm.moe/fj?651148"></li><li class="item" data-background-image="https://t.mwm.moe/fj?624872"></li><li class="item" data-background-image="https://t.mwm.moe/fj?484116"></li><li class="item" data-background-image="https://t.mwm.moe/fj?985588"></li><li class="item" data-background-image="https://t.mwm.moe/fj?497560"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="page wrap"><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://zyakmd.github.io/%E9%95%BF%E5%9F%8E%E5%9F%BA%E9%87%91%E5%AE%9E%E4%B9%A0/%E4%BA%8B%E5%AE%9C%E8%AE%B0%E5%BD%95.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="ZY"><meta itemprop="description" content=", 行到水穷处，坐看云起时"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它"></span><div class="body md" itemprop="articleBody"><p>星巴克这楼办公，36 层。隔壁 5 楼吃饭</p><h1 id="第一周"><a class="anchor" href="#第一周">#</a> 第一周</h1><h2 id="day1"><a class="anchor" href="#day1">#</a> DAY1</h2><p>熟悉环境、看数据交换文档和案例、明确需求、确定后端项目框架、各类型文件各一张表，写了文件夹读取方法</p><h2 id="day2"><a class="anchor" href="#day2">#</a> DAY2</h2><p>理清楚所有数据表，到时候一读一插入就好了。</p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_0" checked disabled><label for="cbx_0">完成 ini 到 数据库表</label></li><li class="task-list-item"><input type="checkbox" id="cbx_1" checked disabled><label for="cbx_1">完成单文件到总表，消息记录到具体表。</label></li></ul><h2 id="day3"><a class="anchor" href="#day3">#</a> DAY3</h2><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_2" checked disabled><label for="cbx_2">总消息和索引 ok，卡在了详细记录的中文字节问题，已搞定。明天完成入库！</label></li></ul><h2 id="day4"><a class="anchor" href="#day4">#</a> DAY4</h2><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_3" checked disabled><label for="cbx_3">试下入库，完成了唯一性和文件，文件夹入库</label></li></ul><h2 id="day5"><a class="anchor" href="#day5">#</a> DAY5</h2><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_4" checked disabled><label for="cbx_4">删除，开启事务连坐一下就好了</label><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_5" checked disabled><label for="cbx_5"><span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9kZWxldGU=">http://localhost:8080/api/delete</span></label></li></ul></li><li class="task-list-item"><input type="checkbox" id="cbx_6" disabled><label for="cbx_6">各表查询实现，具体的还要等前端设计</label></li></ul><h2 id="周报"><a class="anchor" href="#周报">#</a> 周报</h2><h3 id="格式"><a class="anchor" href="#格式">#</a> 格式</h3><ul><li>工作内容</li><li>开展情况</li><li>问题与收获</li><li>后续计划</li></ul><h1 id="第二周"><a class="anchor" href="#第二周">#</a> 第二周</h1><p>1. 完成数据库 -&gt; 文件的序列化处理。get</p><p>2. 开始设计前端界面。</p><p>3. 根据具体的需求再迭代后端的功能。</p><ul><li>异常处理（指定文件不存在之类的）</li></ul><p>4. 优化代码逻辑、功能、兼容性。</p><h2 id="day6"><a class="anchor" href="#day6">#</a> DAY6</h2><ul class="task-list"><li><p>有 trim.() 单次插入要多次，没 trim 都是一次全好，为啥呢？</p><ul><li>在记录数那，转换为 Integer 时不能有后空格。这个是会，但不是这个原因</li><li>还是先手动添加回去吧</li><li>prefix 是手写语句，等</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_7" checked disabled><label for="cbx_7">文件下载 OFD 和 索引的 都欧克</label></p></li><li><p>要不要做批量下载呢？</p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_8" checked disabled><label for="cbx_8">调整下存入数据库的数据，问下褚哥，有个标明了字符字段，但实际可能是数字，要处理吗</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_9" checked disabled><label for="cbx_9">设计前端？Bootstrap / Vue</label></p></li><li><p>生成一个 Bootstrap 框架的，界面优美的后台数据管理界面。使用 CDN，具有以下界面和功能，文件预览界面（有一个大列表框展示后端查询到的缩略信息），文件上传界面（可以选择单个文件上传也可以选择文件夹上传），在左边选取页面</p></li><li><p>具体的功能：</p><ul><li>列表具体的一行，应该有查看、修改、删除。前两者点击后会弹出一个根据后端返回数据生成的详细列表的弹窗。后端返回的数据为 map 格式。弹窗分为左右两列，左边显示 key，右边显示 value，这个 map 是动态的，不同文件 dian 查看依据后端的数据自适应窗口大小，一定大时有滚动条。查看时右边列表锁定，修改时右边列表是可修改文本，点击确认修改后会将新的 map 数据传给后端。点删除弹出有确认删除按钮的弹窗</li><li>可以排序（缩略信息暂定有：文件名，时间，创建人，接收人）。默认 20 条信息一页，可改。</li><li>按文件类型（点击下拉时发送请求，依据后端返回的列表给出选择类型）</li><li>选中框，选中后多个下载（格式为 http://localhost:8080/cc_fund/download?fileNames=a.TXT,b.TXT，fileNames 指定一个选中的文件名列表）</li></ul></li></ul><h2 id="day7"><a class="anchor" href="#day7">#</a> DAY7</h2><ul><li>直指前端</li><li>基本框架和逻辑已定，剩下的就是锦上添花</li></ul><h2 id="day8"><a class="anchor" href="#day8">#</a> DAY8</h2><ul class="task-list"><li class="task-list-item"><p><input type="checkbox" id="cbx_10" checked disabled><label for="cbx_10">多选框 下载，√，zip 压缩多个</label></p></li><li><p>前端 获取 value 的接口和下载的分开，因为不需要填充，0.00 就显示 0.00 而不是 000</p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_11" checked disabled><label for="cbx_11">陷入了盲区，这个不就 select * 就可以实现了，可以有 mapper</label></li><li>√ ，但又陷入了另一个问题，后到前，只要保证 String 就可以自动序列化，但前到后拿到了都是 String，又该如何处理。其实也是后端依据 ini 对应类型转换一下？跟已有插入应该是能共用？</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_12" checked disabled><label for="cbx_12">修改 update 功能 （影响不大，两种实现都行）</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_13" checked disabled><label for="cbx_13">按 id 修改</label></li><li class="task-list-item"><input type="checkbox" id="cbx_14" checked disabled><label for="cbx_14">但是小数存储出问题了...1.0000 变成 0.0001 了，要单独设计，带小数的越来越小了</label></li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_15" checked disabled><label for="cbx_15">批量删除</label></p></li></ul><p>Q：方法选型<br>如：</p><ul><li>做了个修改详细记录的功能，针对 id 修改就能保证文件顺序性不变，先删再新增就比较方便接口的统一（新增和更新能合并）</li><li>对于 index 索引文件，一个记录只可能出现一次，唯一字段分明比较好处理。但 OFD 的话好像得做每张表唯一字段的配置，不然不好判定重复记录。</li></ul><h2 id="day9"><a class="anchor" href="#day9">#</a> DAY9</h2><ul class="task-list"><li class="task-list-item"><p><input type="checkbox" id="cbx_16" checked disabled><label for="cbx_16">全选复选框</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_17" checked disabled><label for="cbx_17">搜索查询</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_18" checked disabled><label for="cbx_18">新增（还可以做安全判定）</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_19" checked disabled><label for="cbx_19">行删除（根据 id）</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_20" checked disabled><label for="cbx_20">分页</label></p><ul><li>自定义拦截器插件分页 自定义个屁！</li><li>pagehelp 好用！（为什么能自启？）</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_21" disabled><label for="cbx_21">返回信息的统一，再说哈哈</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_22" checked disabled><label for="cbx_22">代码机构的中文映射，ok</label></p></li></ul><h2 id="day10"><a class="anchor" href="#day10">#</a> DAY10</h2><ul class="task-list"><li class="task-list-item"><p><input type="checkbox" id="cbx_23" checked disabled><label for="cbx_23">新增 / 删除行有纰漏，还需要改总表里的记录数</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_24" checked disabled><label for="cbx_24">延申出了总表数据还有问题，主要是 0000 填充有问题</label></li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_25" checked disabled><label for="cbx_25">构思兼容性的问题</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_26" disabled><label for="cbx_26">可以上传配置</label></li><li class="task-list-item"><input type="checkbox" id="cbx_27" checked disabled><label for="cbx_27">选择配置文件进行解析</label></li><li class="task-list-item"><input type="checkbox" id="cbx_28" checked disabled><label for="cbx_28"><strong>工厂模式</strong>还是策略模式？</label></li></ul></li><li><p>在前端有个候选框，可以选择加载哪个版本的文件</p><ul><li>prefix 信息多显示一列版本号</li></ul></li><li><p>通过版本号确定总表名，获取对应的 prefix</p><ul><li>prefix 解析详情时，根据这个 prefix，版本号，确认详情表名， 从而获取对应信息。</li></ul></li><li><p>在增删改查时加上版本号 StringUtil 根据 文件名 totable（加上版本号）确定 表名。</p></li><li><p>上传时，解析表名和文件名 确定对应的表名</p></li><li><p>也就是对于具体操作，要点就是 制定好 表名规则，具体处理逻辑是不变的</p></li><li><p>问题在于自动获取配置，想到的是把 detail 表再用一个 map 整合起来，然后依据传递过来的表名自动选取对应的 detail 表，或者说有个获得 detailmap 的工厂，需要的参数就是版本号。</p></li><li><p>在初始化时却是要都初始</p></li></ul><p>具体要做的：</p><ol><li>确定动态 map 的加载和获取方式 （工厂模式）<ul><li>我已经有了某种 ini 文件映射为 Map&lt;String, Map&lt;String, String&gt;&gt; 的方法，假定为 A。现在，我希望能自动扫描 resources/OFEA 目录下具有某种规则的 ini 文件。这个规则是 OFD_数字.ini。我希望有个方法能通过这个数字获取到对应的 Map&lt;String, Map&lt;String, String&gt;&gt;。我现在有两个想法，一个是用一个 map，将所有的 Map&lt;String, Map&lt;String, String&gt;&gt; 为 value，数字为 key 进行获取。另一个是用工厂模式，返回指定数字对应的 Map&lt;String, Map&lt;String, String&gt;&gt;。请比较这两种方式的优劣，哪个更有利于扩展和维护。又或者你有更好的实现方法。先分析，不用给代码。</li></ul></li><li>把 CURD 操作都带上 表名，以及确定表名规则</li><li>上传配置文件的功能</li></ol><ul><li><code>@Component</code> 和 <code>@Autowired</code> 管理版本号，将前端选择的框绑定一个请求，处理这个请求的时候才切换后端处理的版本。这样就只用更改 mapper，在 service 层处理版本号即可</li><li>实现的形式就是，前端选择版本，就处理什么样的数据，只管拼接 table name 就好</li></ul><h2 id="周报-2"><a class="anchor" href="#周报-2">#</a> 周报</h2><h1 id="第三周"><a class="anchor" href="#第三周">#</a> 第三周</h1><p>数据安全性：<br>界面拦截，登录才行，设置权限，管理员才有编辑（前端隐藏 + 后端验证的逻辑）</p><p>实现亮点设计<br>高可用（数据 / 业务：CAS、事务、外键）<br>高复用（代码、可不停机进行配置切换、用户阅览、操作的多样性）<br>高性能（线程池、）</p><p>分表的好处就是利于动态详情页</p><p>违规操作 {<br>不符合的数据类型处理：请在 xx 字段填写正确类型的数据<br>重复上传：请先删除再上传<br>}</p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_29" checked disabled><label for="cbx_29">版本兼容</label></li><li class="task-list-item"><input type="checkbox" id="cbx_30" checked disabled><label for="cbx_30">事务处理（多表时） Transaction 哈哈哈</label></li><li class="task-list-item"><input type="checkbox" id="cbx_31" checked disabled><label for="cbx_31">登录权限</label></li><li class="task-list-item"><input type="checkbox" id="cbx_32" disabled><label for="cbx_32">数据监控</label></li></ul><h2 id="day11"><a class="anchor" href="#day11">#</a> DAY11</h2><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_33" checked disabled><label for="cbx_33">阿里云续费 你周末不会忘了吧！</label><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_34" checked disabled><label for="cbx_34">买了，但还没迁移，弄弄看，迁移要钱，不迁了哈哈</label></li></ul></li></ul><p><strong>IniConfigFactory 能按版本号读取了，但还要扫包初始化</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_35" checked disabled><label for="cbx_35">换成了默认 22，在配置文件可改默认，前端的那个拉选框就是，点击后切换为那个版本。</label></li><li class="task-list-item"><input type="checkbox" id="cbx_36" checked disabled><label for="cbx_36">有个版本表 List，返回给前端供选择，这里就要扫包了</label></li><li class="task-list-item"><input type="checkbox" id="cbx_37" checked disabled><label for="cbx_37">取消 tableColumnMap，工厂取缔 iniDetailMap</label></li><li class="task-list-item"><input type="checkbox" id="cbx_38" checked disabled><label for="cbx_38">初始化的操作还是得扫描所有数字类得包（做个初始化按钮，已有库表不动。上传和下载默认根据文件读取到得类型判断，前端不用改）</label></li><li 总表：prefix_version="" ，="" index_version="" ，ini_version="">确定下结构： inifactory 获取配置 -&gt; 就会顺带初始化当前被指定版本的表 -&gt;</li></ul><h2 id="day12"><a class="anchor" href="#day12">#</a> DAY12</h2><p>boot script 搞成本地？ok</p><ul class="task-list"><li class="task-list-item"><p><input type="checkbox" id="cbx_39" checked disabled><label for="cbx_39">默认显示 22 的问题，导致切不回去了。用 localStorage 存储，或者 session，不然就是刷新就没了</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_40" checked disabled><label for="cbx_40">插入要根据识别到的 version 来处理拼接 table 名</label></p></li></ul><p>正在保存: OFD_029_20_20230424_01.TXT<br>正在保存 1 个文件<br>正在保存: OFD_20_029_20231206_02.TXT<br><strong><strong><strong>上传单个文件成功！</strong></strong></strong><br>看看哪出问题了，有的不行</p><ul class="task-list"><li><p>应该是详情表拿哪个字段寄了</p></li><li><p>Expected one result (or null) to be returned by selectOne (), but found: 2 。 会多插入？时有时没有</p></li><li><p>发现了是没有实际配置的字段多，要按照实际给的字段数来</p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_41" checked disabled><label for="cbx_41">上传版本文件</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_42" checked disabled><label for="cbx_42">无对应版本文件时，会回弹缺失版本文件的错误。 难以统一处理返回结果</label></p></li></ul><p>解决不了，干</p><h2 id="day13"><a class="anchor" href="#day13">#</a> DAY13</h2><ul class="task-list"><li><p>设计一个登陆界面的 ui（login.html），使用 bootstrap，界面要优美简洁，位于右侧，左侧留有放置背景图的 ui。表单有用户名、密码、验证码（4 位数字图案的），向 Spring 后端发送登录请求，成功后跳转 index.html 界面。Spring 设计缓存机制，登录成功一定时间内会直接跳转到 index.html。相对的，未登录或过期访问 index.html 将拦截并跳转 login.html</p></li><li><p>登录 不成功</p></li><li><p>UI 再简单调整下</p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_43" checked disabled><label for="cbx_43">登录，退出</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_44" checked disabled><label for="cbx_44">数据监控， Spring Boot Monitor</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_45" checked disabled><label for="cbx_45">大量 - 导入 - 导出</label></p></li><li><p>大文件 导入导出，网络和本地。</p></li><li><p>单个记录量很大</p><ul><li>一个文件可能有十万、百万的记录行，单个文件很大</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_46" checked disabled><label for="cbx_46">一个是模拟数据</label></p><ul><li>生成一个方法，参数为指定文件路径 (绝对路径)，要复制的行数 i，要复制的次数 n。实现的效果是：读取文件，对于指定的第 i 行，复制 n 次，最后再将这个文件保存在源目录下的 xx.TXT</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_47" checked disabled><label for="cbx_47">然后导入单个测试</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_48" checked disabled><label for="cbx_48">解析的详情行数据太大了，只有分页了？那前端又有多弄个分页，详细数据查询也要分页</label></li></ul></li></ul><p>流量控制就不知道了</p><h2 id="day14"><a class="anchor" href="#day14">#</a> DAY14</h2><ul class="task-list"><li><p>调整下 js，代码，功能 ok 了之前的删掉。</p><ul><li>看可以加个总计：xx 记录</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_49" checked disabled><label for="cbx_49">索引文件的分表，统一嘛</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_50" checked disabled><label for="cbx_50">跳转到某一页</label></p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_51" checked disabled><label for="cbx_51">大数据入库</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_52" disabled><label for="cbx_52">上传： 分片 （压缩，十倍起步的）</label></li><li class="task-list-item"><input type="checkbox" id="cbx_53" disabled><label for="cbx_53">服务端：落盘</label></li><li class="task-list-item"><input type="checkbox" id="cbx_54" checked disabled><label for="cbx_54">数据库端：线程池 + 批处理</label><ul><li>不能多次下载，删了再下 就要重启服务，index 可以</li><li>线程池给你🐎关了</li></ul></li><li>最外面等所有结果的 get</li></ul></li><li class="task-list-item"><p><input type="checkbox" id="cbx_55" checked disabled><label for="cbx_55">大数据出库</label></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_56" checked disabled><label for="cbx_56">数据库：</label></li><li class="task-list-item"><input type="checkbox" id="cbx_57" checked disabled><label for="cbx_57">服务端：整合、压缩：解决流量带宽</label></li><li class="task-list-item"><input type="checkbox" id="cbx_58" checked disabled><label for="cbx_58">下载：分片</label></li></ul></li></ul><p><strong>流式读取</strong> 改 List&lt;String&gt; fileList 的话，要碰底层咯。</p><ul class="task-list"><li><p><strong>使用流式处理</strong>：将文件数据流式读取而不是一次性加载到内存中。可以使用 <code>BufferedReader</code> 逐行读取文件，每次读取一部分数据进行处理，然后丢弃，避免一次性将整个文件加载到内存中。</p></li><li class="task-list-item"><p><input type="checkbox" id="cbx_59" checked disabled><label for="cbx_59">热兼容 下周了</label></p></li></ul><h2 id="day15"><a class="anchor" href="#day15">#</a> DAY15</h2><ul><li>做 ppt 咯</li></ul><ol><li>自我介绍</li><li>课题情况<ol><li>课题要求</li><li>框架 / 技术选型</li><li>完成情况</li></ol></li><li>难点亮点<ol><li>难点</li><li>亮点</li></ol></li><li>后续展望</li></ol><h2 id="周报-3"><a class="anchor" href="#周报-3">#</a> 周报</h2><h1 id="第四周"><a class="anchor" href="#第四周">#</a> 第四周</h1><h2 id="day16"><a class="anchor" href="#day16">#</a> DAY16</h2><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_60" checked disabled><label for="cbx_60">热版本</label></li></ul><p>ppt</p><ul><li>注释<ul><li>controller、dto √</li></ul></li></ul><p>使用文档</p><h2 id="day17"><a class="anchor" href="#day17">#</a> DAY17</h2><p>ppt、协议文件</p><h2 id="day18"><a class="anchor" href="#day18">#</a> DAY18</h2><p>ppt 第二章结构详解、简历</p><h2 id="day19"><a class="anchor" href="#day19">#</a> DAY19</h2><ul><li>使用文档</li><li>监控：<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8yMjQ1MDEz">https://cloud.tencent.com/developer/article/2245013</span></li><li></li></ul><h2 id="day20"><a class="anchor" href="#day20">#</a> DAY20</h2><ul><li><p>大文件管理方案</p><ul><li>分库分表</li><li>分布式部署</li><li>高性能数据库</li><li>好像也没啥好办法</li></ul></li><li><p>总结总结有什么好弄的吧</p></li></ul><h2 id="周报-4"><a class="anchor" href="#周报-4">#</a> 周报</h2><ul><li>热版本更新</li><li>代码全注释 + 使用文档，已发给龙哥</li><li>PPT、实习情况总结表</li></ul><h1 id="意料之外的第五周"><a class="anchor" href="#意料之外的第五周">#</a> 意料之外的第五周</h1><p>就两件事</p><ul><li>慢查询问题 √</li><li>Spring boot 项目 debug</li><li>视频有卡顿的就要重新录</li></ul><h1 id="全部需求"><a class="anchor" href="#全部需求">#</a> 全部需求</h1><ol><li>上下传文件 √</li><li>前端展示信息 √</li><li>增删改 信息 √</li><li>版本切换 √</li><li>用户登录和权限 √<ol><li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlX3JhY2xlL2FydGljbGUvZGV0YWlscy8xNDA4ODY2MDA=">https://blog.csdn.net/be_racle/article/details/140886600</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ1MDY3NjIwL2FydGljbGUvZGV0YWlscy8xMTk2NDM1OTA=">https://blog.csdn.net/m0_45067620/article/details/119643590</span></li></ol></li><li>数据监控 √<ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RhbmdodWliby9zcHJpbmctdGFrZWF3YXktdWk=">https://github.com/tanghuibo/spring-takeaway-ui</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIuYWxpeXVuLmNvbS9hcnRpY2xlLzgyNjU5Mw==">https://developer.aliyun.com/article/826593</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNTUxNTEy">https://cloud.tencent.com/developer/article/1551512</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cucG9taXQuY24vU3ByaW5nQm9vdE1vbml0b3IvIy8/aWQ9JWUzJTgwJThhc3ByaW5nYm9vdCVlNSU4ZCU5NSVlNiU5YyViYSVlNyU5YiU5MSVlNiU4ZSVhN3NwcmluZ2Jvb3Rtb25pdG9yJWUzJTgwJThi">https://www.pomit.cn/SpringBootMonitor/#/?id=《springboot 单机监控 springbootmonitor》</span></li></ol></li><li>性能测试</li></ol></div><footer><div class="meta"></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.jpg" alt="ZY WeChat Pay"><p>WeChat Pay</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>ZY <i class="ic i-at"><em>@</em></i>世界上只有一种真正的英雄主义，就是认清了生活的真相后还依然热爱它</li><li class="link"><strong>Post link: </strong><a href="https://zyakmd.github.io/%E9%95%BF%E5%9F%8E%E5%9F%BA%E9%87%91%E5%AE%9E%E4%B9%A0/%E4%BA%8B%E5%AE%9C%E8%AE%B0%E5%BD%95.html">https://zyakmd.github.io/长城基金实习/事宜记录.html</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> unless stating additionally.</li></ul></div></footer></article></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%91%A8"><span class="toc-number">1.</span> <span class="toc-text">第一周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#day1"><span class="toc-number">1.1.</span> <span class="toc-text">DAY1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day2"><span class="toc-number">1.2.</span> <span class="toc-text">DAY2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day3"><span class="toc-number">1.3.</span> <span class="toc-text">DAY3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day4"><span class="toc-number">1.4.</span> <span class="toc-text">DAY4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day5"><span class="toc-number">1.5.</span> <span class="toc-text">DAY5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%A8%E6%8A%A5"><span class="toc-number">1.6.</span> <span class="toc-text">周报</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.6.1.</span> <span class="toc-text">格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%91%A8"><span class="toc-number">2.</span> <span class="toc-text">第二周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#day6"><span class="toc-number">2.1.</span> <span class="toc-text">DAY6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day7"><span class="toc-number">2.2.</span> <span class="toc-text">DAY7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day8"><span class="toc-number">2.3.</span> <span class="toc-text">DAY8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day9"><span class="toc-number">2.4.</span> <span class="toc-text">DAY9</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day10"><span class="toc-number">2.5.</span> <span class="toc-text">DAY10</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%A8%E6%8A%A5-2"><span class="toc-number">2.6.</span> <span class="toc-text">周报</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E5%91%A8"><span class="toc-number">3.</span> <span class="toc-text">第三周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#day11"><span class="toc-number">3.1.</span> <span class="toc-text">DAY11</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day12"><span class="toc-number">3.2.</span> <span class="toc-text">DAY12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day13"><span class="toc-number">3.3.</span> <span class="toc-text">DAY13</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day14"><span class="toc-number">3.4.</span> <span class="toc-text">DAY14</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day15"><span class="toc-number">3.5.</span> <span class="toc-text">DAY15</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%A8%E6%8A%A5-3"><span class="toc-number">3.6.</span> <span class="toc-text">周报</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E5%91%A8"><span class="toc-number">4.</span> <span class="toc-text">第四周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#day16"><span class="toc-number">4.1.</span> <span class="toc-text">DAY16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day17"><span class="toc-number">4.2.</span> <span class="toc-text">DAY17</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day18"><span class="toc-number">4.3.</span> <span class="toc-text">DAY18</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day19"><span class="toc-number">4.4.</span> <span class="toc-text">DAY19</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day20"><span class="toc-number">4.5.</span> <span class="toc-text">DAY20</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%A8%E6%8A%A5-4"><span class="toc-number">4.6.</span> <span class="toc-text">周报</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%84%8F%E6%96%99%E4%B9%8B%E5%A4%96%E7%9A%84%E7%AC%AC%E4%BA%94%E5%91%A8"><span class="toc-number">5.</span> <span class="toc-text">意料之外的第五周</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A8%E9%83%A8%E9%9C%80%E6%B1%82"><span class="toc-number">6.</span> <span class="toc-text">全部需求</span></a></li></ol></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ZY" data-src="/images/avatar.jpg"><p class="name" itemprop="name">ZY</p><div class="description" itemprop="description">行到水穷处，坐看云起时</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">25</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">6</span> <span class="name">tags</span></a></div></nav><div class="social"><a href="https://github.com/zyakmd" title="https:&#x2F;&#x2F;github.com&#x2F;zyakmd" class="item github" rel="noopener" target="_blank"><i class="ic i-github"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/hexo%E4%BD%BF%E7%94%A8/" title="In hexo使用">hexo使用</a></div><span><a href="/2024/03/07/hexo%E4%BD%BF%E7%94%A8/%E7%BD%91%E7%AB%99%E6%A0%B7%E5%BC%8F/" title="网站样式">网站样式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JAVA%E5%AD%A6%E4%B9%A0/" title="In JAVA学习">JAVA学习</a></div><span><a href="/2024/06/09/Java%E7%9F%A5%E8%AF%86/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" title="线程安全">线程安全</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/JAVA%E5%AD%A6%E4%B9%A0/" title="In JAVA学习">JAVA学习</a></div><span><a href="/2024/04/09/Java%E7%9F%A5%E8%AF%86/Java%E5%B8%B8%E7%94%A8STL%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Java常用STL及函数">Java常用STL及函数</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/13/MySQL/" title="MySQL">MySQL</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/hexo%E4%BD%BF%E7%94%A8/" title="In hexo使用">hexo使用</a></div><span><a href="/2024/03/09/hexo%E4%BD%BF%E7%94%A8/%E7%95%8C%E9%9D%A2%E7%9B%B8%E5%85%B3/" title="界面相关">界面相关</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/" title="In 开发记录">开发记录</a></div><span><a href="/2024/08/26/%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/%E6%B5%8B%E8%AF%95%E3%80%81%E5%B9%B6%E5%8F%91%E3%80%81%E6%BA%A2%E5%87%BA/" title="测试、并发、溢出">测试、并发、溢出</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/22/%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96/" title="项目优化">项目优化</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%A7%81%E8%B4%A7/" title="In 私货">私货</a></div><span><a href="/2024/05/08/%E5%85%85%E7%94%B5/" title="充电">充电</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/29/Docker/" title="Docker">Docker</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/" title="In 开发记录">开发记录</a></div><span><a href="/2024/08/26/%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/" title="大文件处理">大文件处理</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-"></i> </span><span class="author" itemprop="copyrightHolder">ZY @ ZY Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">577k words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">8:44</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"长城基金实习/事宜记录",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!0},log:!1})</script></body></html><!-- rebuild by hrmmi -->